/**
 * Litigant Portal - Main Stylesheet (Tailwind v4)
 * Based on CourtListener's design system
 * Build: tailwindcss -i static/css/main.css -o static/css/main.built.css
 */

@import "tailwindcss";

/* ==========================================================================
   THEME - Custom design tokens
   ========================================================================== */

@theme {
  /* Breakpoints */
  --breakpoint-xs: 392px;

  /* Custom spacing */
  --spacing-4_5: 1.125rem;
  --spacing-7_5: 1.875rem;
  --spacing-13: 3.25rem;
  --spacing-15: 3.75rem;
  --spacing-18: 4.5rem;
  --spacing-21: 5.25rem;
  --spacing-26: 6.5rem;
  --spacing-35: 8.75rem;
  --spacing-41: 10.25rem;
  --spacing-42: 10.5rem;
  --spacing-45: 11.25rem;
  --spacing-53: 13.25rem;
  --spacing-55: 13.75rem;
  --spacing-70: 17.5rem;

  /* Fonts */
  --font-sans: "Inter", sans-serif;
  --font-cooper: "Cooper Hewitt", sans-serif;
  --font-mono: "DM Mono", monospace;

  /* Greyscale colors */
  --color-greyscale-25: #FDFCFB;
  --color-greyscale-50: #FBFAF8;
  --color-greyscale-100: #F5F3EF;
  --color-greyscale-200: #E8E4DE;
  --color-greyscale-300: #D6D0C6;
  --color-greyscale-400: #A8A091;
  --color-greyscale-500: #776F61;
  --color-greyscale-600: #574F40;
  --color-greyscale-700: #453F35;
  --color-greyscale-800: #29261F;
  --color-greyscale-900: #1C1814;
  --color-greyscale-950: #171411;

  /* Primary colors (coral/red) */
  --color-primary-25: #FDF9F7;
  --color-primary-50: #FBF4EF;
  --color-primary-100: #F7E6DE;
  --color-primary-200: #EFCBBD;
  --color-primary-300: #E19684;
  --color-primary-400: #D56958;
  --color-primary-500: #CD4137;
  --color-primary-600: #B5362D;
  --color-primary-700: #9B2E27;
  --color-primary-800: #832720;
  --color-primary-900: #6A201A;
  --color-primary-950: #4E1713;

  /* Brand colors (purple) */
  --color-brand-100: #F4EBFF;
  --color-brand-300: #D6BBFB;
  --color-brand-600: #7F56D9;
  --color-brand-700: #6941C6;

  /* Accent colors */
  --color-yellow-50: #FFFAEB;
  --color-yellow-400: #FDB022;
  --color-yellow-700: #B54708;
  --color-blue-700: #004EEB;
  --color-red-100: #FEE4E2;
  --color-red-200: #FECDCA;
  --color-red-300: #FDA29B;
  --color-red-400: #FF692E;
  --color-red-500: #E62E05;
  --color-red-600: #D92D20;
  --color-red-700: #B42318;
  --color-green-100: #D1FADF;
  --color-green-500: #12B76A;
  --color-green-600: #039855;
  --color-green-700: #027A48;

  /* Font sizes with line heights */
  --text-xs: 0.75rem;
  --text-xs--line-height: 1.125rem;
  --text-sm: 0.875rem;
  --text-sm--line-height: 1.25rem;
  --text-md: 1rem;
  --text-md--line-height: 1.5rem;
  --text-lg: 1.125rem;
  --text-lg--line-height: 1.75rem;
  --text-xl: 1.25rem;
  --text-xl--line-height: 1.75rem;
  --text-display-xs: 1.5rem;
  --text-display-xs--line-height: 2rem;
  --text-display-sm: 1.875rem;
  --text-display-sm--line-height: 2.375rem;
  --text-display-md: 2rem;
  --text-display-md--line-height: 2.5rem;
  --text-display-lg: 2.5rem;
  --text-display-lg--line-height: 3rem;
  --text-display-xl: 2.75rem;
  --text-display-xl--line-height: 3.25rem;

  /* Max widths */
  --container-content: 948px;
}

/* ==========================================================================
   BASE LAYER - Element defaults
   ========================================================================== */

@layer base {
  /* CSS Variables for responsive calculations */
  :root {
    --mobile-main-padding: 1rem;
    --padded-full-width: calc(100vw - (2 * var(--mobile-main-padding)));
    --content-max-width: 948px;
  }

  /* Alpine.js cloak - hide elements until Alpine initializes */
  [x-cloak] {
    display: none !important;
  }

  /* Base HTML element styles */
  html {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  body {
    @apply font-sans text-greyscale-900 bg-greyscale-25;
  }

  /* Headings */
  h1 {
    @apply font-cooper text-display-sm font-semibold md:text-display-lg;
  }

  h2 {
    @apply text-display-xs font-semibold text-greyscale-900;
  }

  h3 {
    @apply text-xl font-semibold text-greyscale-900;
  }

  h4 {
    @apply text-lg font-semibold text-greyscale-900;
  }

  /* Lists */
  ul {
    @apply list-disc pl-6;
  }

  ol {
    @apply list-decimal pl-6;
  }

  /* Blockquote */
  blockquote {
    @apply border-l-4 border-l-greyscale-200 pl-6 py-2 text-xl font-normal;
  }

  /* Tables */
  table {
    @apply w-full;
  }

  tr {
    @apply border-b border-greyscale-200 text-sm font-normal;
  }

  th {
    @apply p-2 text-start text-greyscale-700 font-normal bg-greyscale-100;
  }

  td {
    @apply p-2;
  }

  /* Code */
  code {
    @apply font-mono text-sm bg-brand-100 text-brand-600 border border-brand-300 rounded-sm px-1;
  }

  /* Custom Checkbox */
  input[type='checkbox'] {
    @apply relative appearance-none shrink-0 w-5 h-5 rounded border border-greyscale-300 bg-white;
    @apply checked:border-primary-600 checked:bg-primary-600;
    @apply focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-4 focus-visible:outline-primary-600/60;
    @apply disabled:border-greyscale-300 disabled:bg-greyscale-100 disabled:checked:bg-greyscale-100;
    @apply before:absolute before:inset-0 before:m-auto before:w-4 before:h-4 before:bg-white;
    @apply checked:before:scale-100 before:scale-0 before:transform before:duration-200 transition-colors;
  }

  input[type='checkbox']::before {
    content: '';
    mask: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='3'%3E%3Cpolyline points='20 6 9 17 4 12'%3E%3C/polyline%3E%3C/svg%3E")
      no-repeat center/contain;
  }

  /* Custom Radio */
  input[type='radio'] {
    @apply relative appearance-none shrink-0 w-5 h-5 rounded-full border border-greyscale-300;
    @apply checked:border-primary-600 checked:bg-primary-600;
    @apply focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary-600/60;
    @apply disabled:border-greyscale-300 disabled:bg-greyscale-100;
    @apply before:absolute before:inset-0 before:m-auto before:w-2 before:h-2 before:rounded-full before:bg-white;
    @apply before:scale-0 checked:before:scale-100 before:transform before:duration-200 transition-colors;
    @apply disabled:checked:before:bg-greyscale-400;
  }

  /* Base select styling */
  select {
    @apply border bg-white py-3 px-3.5 rounded-lg text-sm font-medium text-greyscale-900;
  }
}

/* ==========================================================================
   COMPONENTS LAYER - Reusable component classes
   ========================================================================== */

@layer components {
  /* Skip Link - Accessibility */
  .skip-link {
    @apply transition-all ease-in-out pointer-events-none;
    @apply focus-visible:pointer-events-auto top-0 left-0;
    @apply bg-primary-600 text-white absolute p-2 m-2;
    @apply -translate-y-24 focus-visible:translate-y-0;
    @apply focus-visible:opacity-100 opacity-0;
    @apply focus-visible:ring-2 focus-visible:ring-primary-900;
    @apply focus-visible:outline focus-visible:outline-primary-900 z-50;
  }

  /* Alerts */
  .alert {
    @apply px-4 py-3 text-sm rounded-lg border;
  }

  .alert-warning {
    @apply px-4 py-3 text-sm rounded-lg border text-yellow-700 bg-yellow-50 border-yellow-400;
  }

  .alert-danger {
    @apply px-4 py-3 text-sm rounded-lg border bg-red-100 text-red-700 border-red-500;
  }

  .alert-info {
    @apply px-4 py-3 text-sm rounded-lg border bg-brand-100 text-brand-700 border-brand-300;
  }

  .alert-success {
    @apply px-4 py-3 text-sm rounded-lg border bg-green-100 text-green-700 border-green-500;
  }

  /* Buttons - base styles */
  .btn {
    @apply py-2.5 px-3.5 rounded-lg w-fit text-sm font-normal flex gap-1 items-center;
    @apply transition-colors duration-200;
    @apply disabled:cursor-not-allowed;
  }

  .btn-primary {
    @apply py-2.5 px-3.5 rounded-lg w-fit text-sm font-normal flex gap-1 items-center;
    @apply transition-colors duration-200 disabled:cursor-not-allowed;
    @apply text-white bg-primary-600;
    @apply hover:bg-primary-700;
    @apply outline-none focus-visible:ring-4 focus-visible:ring-primary-300;
    @apply disabled:bg-primary-100 disabled:text-primary-400;
  }

  .btn-outline {
    @apply py-2.5 px-3.5 rounded-lg w-fit text-sm font-normal flex gap-1 items-center;
    @apply transition-colors duration-200 disabled:cursor-not-allowed;
    @apply bg-white text-greyscale-700 border border-greyscale-300;
    @apply hover:bg-greyscale-100;
    @apply outline-none focus-visible:ring-4 focus-visible:ring-greyscale-300;
    @apply disabled:border-greyscale-200 disabled:text-greyscale-400;
  }

  .btn-dark {
    @apply py-2.5 px-3.5 rounded-lg w-fit text-sm font-normal flex gap-1 items-center;
    @apply transition-colors duration-200 disabled:cursor-not-allowed;
    @apply text-white bg-greyscale-900;
    @apply hover:bg-greyscale-800;
    @apply outline-none focus-visible:ring-4 focus-visible:ring-greyscale-400;
    @apply disabled:bg-greyscale-400 disabled:text-greyscale-200;
  }

  .btn-ghost {
    @apply py-2.5 px-3.5 rounded-lg w-fit text-sm font-normal flex gap-1 items-center;
    @apply transition-colors duration-200 disabled:cursor-not-allowed;
    @apply text-greyscale-700;
    @apply hover:bg-greyscale-100;
    @apply focus-visible:ring-4 focus-visible:ring-greyscale-200;
    @apply disabled:text-greyscale-400;
  }

  .btn-danger {
    @apply py-2.5 px-3.5 rounded-lg w-fit text-sm font-normal flex gap-1 items-center;
    @apply transition-colors duration-200 disabled:cursor-not-allowed;
    @apply text-white bg-red-500;
    @apply hover:bg-red-600;
    @apply outline-none focus-visible:ring-4 focus-visible:ring-red-300;
    @apply disabled:bg-red-200 disabled:text-red-400;
  }

  /* Button sizes */
  .btn-xl {
    @apply py-3 px-4_5 text-md;
  }

  .btn-sm {
    @apply py-1.5 px-2.5 text-xs;
  }

  /* Inputs */
  .input {
    @apply w-full text-md font-normal py-3 px-4 rounded-lg;
    @apply border border-greyscale-300 bg-white text-greyscale-900;
    @apply placeholder:text-greyscale-400;
    @apply transition-colors duration-200;
    @apply focus:outline-none focus:ring-2 focus:ring-primary-600 focus:border-primary-600;
    @apply disabled:bg-greyscale-100 disabled:text-greyscale-500 disabled:cursor-not-allowed;
  }

  .input-error {
    @apply border-red-500 focus:ring-red-500 focus:border-red-500;
  }

  .input-success {
    @apply border-green-500 focus:ring-green-500 focus:border-green-500;
  }

  /* Links */
  .link {
    @apply inline-flex items-center gap-1 underline cursor-pointer;
    @apply transition-colors duration-200;
    text-underline-offset: 2px;
  }

  .link-default {
    @apply text-primary-600;
    @apply hover:text-primary-700;
  }

  .link-primary {
    @apply text-primary-600 font-semibold;
    text-decoration-thickness: 2px;
    @apply hover:text-primary-700;
  }

  .link-secondary {
    @apply text-greyscale-600;
    @apply hover:text-greyscale-800;
  }

  .link-unstyled {
    @apply text-inherit no-underline;
    @apply hover:underline;
  }

  .link-external-icon {
    @apply shrink-0 ml-1;
  }

  /* Selects */
  .select-wrapper {
    @apply relative inline-block w-full;
  }

  .select {
    @apply w-full text-md font-normal py-3 pl-4 pr-10 rounded-lg;
    @apply border border-greyscale-300 bg-white text-greyscale-900;
    @apply transition-colors duration-200 cursor-pointer;
    @apply focus:outline-none focus:ring-2 focus:ring-primary-600 focus:border-primary-600;
    @apply disabled:bg-greyscale-100 disabled:text-greyscale-500 disabled:cursor-not-allowed;
    appearance: none;
  }

  .select-icon {
    @apply absolute right-3 top-1/2 -translate-y-1/2;
    @apply pointer-events-none text-greyscale-500;
  }

  .select-wrapper-error .select {
    @apply border-red-500 focus:ring-red-500 focus:border-red-500;
  }

  .select-wrapper-disabled .select {
    @apply bg-greyscale-100 text-greyscale-500 cursor-not-allowed;
  }

  /* Icons */
  .icon {
    @apply inline-flex items-center justify-center;
  }

  /* Banners & Cards */
  .banner {
    @apply flex flex-col gap-4 rounded-2xl bg-greyscale-100 border-2 border-greyscale-200 p-6;
  }

  .card {
    @apply bg-white rounded-xl border border-greyscale-200 p-4;
  }

  /* Layout */
  .container-desktop {
    @apply max-w-content mx-auto px-4 sm:px-6 lg:px-8;
  }

  .container-mobile {
    @apply max-w-md mx-auto px-4;
  }

  .capped-width {
    @apply w-full mx-auto;
    max-width: var(--content-max-width);
  }

  /* Text Box (for forms) */
  .textbox {
    @apply text-md font-normal py-3 px-4 rounded-lg border border-greyscale-300;
  }
}

/* ==========================================================================
   UTILITIES LAYER - Custom utilities
   ========================================================================== */

@layer utilities {
  /* Lead text for intro paragraphs */
  .lead {
    @apply text-xl text-greyscale-700 font-normal;
  }

  /* Focus container - provides focus state when a child input is focused */
  .focus-container {
    @apply flex;
  }

  .focus-container:has(input:focus) {
    @apply outline outline-2 outline-primary-600;
  }

  /* Scrollbar styling */
  .scrollbar-thin::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  .scrollbar-thin::-webkit-scrollbar-track {
    background: transparent;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb {
    @apply bg-greyscale-300 rounded-full;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    @apply bg-greyscale-400;
  }
}
